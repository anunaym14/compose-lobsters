import dev.msfjarvis.lobsters.model.Submitter;
import java.lang.Boolean;
import kotlin.collections.List;

CREATE TABLE IF NOT EXISTS LobstersPost(
  short_id TEXT NOT NULL PRIMARY KEY,
  short_id_url TEXT NOT NULL,
  created_at TEXT NOT NULL,
  title TEXT NOT NULL,
  url TEXT NOT NULL,
  score INTEGER NOT NULL,
  flags INTEGER NOT NULL,
  comment_count INTEGER NOT NULL,
  description TEXT NOT NULL,
  comments_url TEXT NOT NULL,
  submitter_user TEXT as Submitter NOT NULL,
  tags TEXT as List<String> NOT NULL,
  is_saved INTEGER as Boolean DEFAULT 0
);

selectAllPosts:
SELECT *
FROM LobstersPost;

selectSavedPosts:
SELECT *
FROM LobstersPost
WHERE is_saved = 1;

selectPost:
SELECT *
FROM LobstersPost
WHERE short_id = ?;

insertOrReplacePost:
INSERT OR REPLACE
INTO LobstersPost
VALUES ?;

savePost:
UPDATE LobstersPost
SET is_saved = 1
WHERE short_id = ?;

removeSavedPost:
UPDATE LobstersPost
SET is_saved = 0
WHERE short_id = ?;

deletePost:
DELETE
FROM LobstersPost
WHERE short_id = ?;

deleteAllPosts:
DELETE
FROM LobstersPost;

isPostSaved:
SELECT *
FROM LobstersPost
WHERE short_id = ?
AND is_saved = 1;

selectCount:
SELECT COUNT(*)
FROM LobstersPost;
